<script>
	import { onMount } from 'svelte';

	// const { snapshot, attachments, onSubmit, onPause } = Services.init({ token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiQ1EvajJFWDdxU1NZWWNTaXczQ0xsSjUrdDFPZGNaM2VyN2llRmNpMllWRT0iLCJkZWZpbml0aW9uIjoiMmpiQ1BJY3BOcGh3S21oNlFqb21yT1FKcElheEpuTW9SbFZpS2RDUGFRRT0iLCJ0eXBlIjoiY29sbGVjdCJ9.Fx5pG_t38FvWEazcyofhBAqpTY7i6pCMWmyiZFbsVJM" });

	onMount(async () => {
		const { run } = await import('tripetto-runner-autoscroll');
		const { Export } = await import('tripetto-runner-foundation');
		const { default: Services } = await import('tripetto-services');
		console.log(Services.init);
		const { snapshot, attachments, onSubmit, onPause } = Services.init({
			token:
				'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiQ1EvajJFWDdxU1NZWWNTaXczQ0xsSjUrdDFPZGNaM2VyN2llRmNpMllWRT0iLCJkZWZpbml0aW9uIjoiMmpiQ1BJY3BOcGh3S21oNlFqb21yT1FKcElheEpuTW9SbFZpS2RDUGFRRT0iLCJ0eXBlIjoiY29sbGVjdCJ9.Fx5pG_t38FvWEazcyofhBAqpTY7i6pCMWmyiZFbsVJM'
		});

		run({
			element: document.getElementById('tripetto') /* Or supply your own element here */,
			definition: {
				language: 'pl',
				clusters: [
					{
						id: 'ba2c876883df9e913c5c8a85e2209518a0e66b6740850e517b902606a0ba4861',
						nodes: [
							{
								id: 'b7117a3e08705b908194c51796384a279065bbe5601c94d6ecfd1f6c5d1166db',
								name: 'Jak masz na imiƒô?',
								nameVisible: true,
								slots: [
									{
										id: '368171cd23c00b498cbfbe077da9d4af6671acce57c0bc06c111b67f01df5252',
										type: 'text',
										kind: 'static',
										reference: 'value',
										label: 'Text',
										alias: 'imiƒô'
									}
								],
								block: { type: 'tripetto-block-text', version: '5.0.3' }
							},
							{
								id: '44904266a58aa45a8ea897869eecdb0499f61261a83f5ff07444e526bcb598e7',
								name: 'Cze≈õƒá @368171cd23c00b498cbfbe077da9d4af6671acce57c0bc06c111b67f01df5252',
								nameVisible: true
							}
						]
					}
				],
				builder: { name: 'tripetto', version: '4.4.2' }
			},
			styles: {
				direction: 'vertical',
				verticalAlignment: 'top',
				hidePast: false,
				hideUpcoming: false,
				showNavigation: 'auto',
				showProgressbar: true,
				showEnumerators: false,
				autoFocus: false,
				showSeparateSubmit: true,
				showPreviousButton: true,
				hideRequiredIndicator: false,
				showScrollbar: false,
				disableScrolling: false,
				noBranding: true,
				contract: { name: 'tripetto-runner-autoscroll', version: '5.5.0' }
			},
			l10n: {
				contract: { name: 'tripetto-runner-autoscroll', version: '5.5.0' },
				locale: 'auto',
				translations: {
					'': {
						language: 'pl',
						'plural-forms':
							'nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);',
						'plural-family': 'Slavic (Polish)'
					},
					'runner#9|‚ö† Errors|Input error\u0004%1 item requires your attention! Click to fix.': [
						'%1 items require your attention! Click to fix.',
						'%1 pole wymaga twojej uwagi! Kliknij aby poprawiƒá.',
						'%1 pola wymagajƒÖ twojej uwagi! Kliknij aby poprawiƒá.',
						'%1 p√≥l wymaga twojej uwagi! Kliknij aby poprawiƒá.'
					],
					'runner#3|ü©∫ Status information\u0004%1 of %2 answered': [
						null,
						'%1 na %2 udzielonych odpowiedzi'
					],
					'runner#3|ü©∫ Status information\u0004Nothing to answer': [
						null,
						'Brak pyta≈Ñ do odpowiedzi'
					],
					'runner#3|ü©∫ Status information\u0004Pausing...': [null, 'Wstrzymywanie...'],
					'runner#3|ü©∫ Status information\u0004Submitting...': [null, 'Przesy≈Çanie...'],
					'runner#3|ü©∫ Status information\u0004‚è≥ One moment please...': [null, '‚è≥ Chwileczkƒô...'],
					'runner:autoscroll\u0004100% height, width centered': [
						null,
						'100% wysoko≈õci, wy≈õrodkowany w poziomie'
					],
					'runner:autoscroll\u0004100% width, height centered': [
						null,
						'100% szeroko≈õci, wy≈õrodkowany w pionie'
					],
					'runner:autoscroll\u0004Agree color (input buttons)': [
						null,
						'Kolor przycisk√≥w potwierdzenia'
					],
					'runner:autoscroll\u0004Always': [null, 'Zawsze'],
					'runner:autoscroll\u0004Appearance': [null, 'WyglƒÖd'],
					'runner:autoscroll\u0004Automatically gain focus': [
						null,
						'Aktywuj automatycznie (ustaw focus)'
					],
					'runner:autoscroll\u0004Background': [null, 'T≈Ço'],
					'runner:autoscroll\u0004Background color': [null, 'Kolor t≈Ça'],
					'runner:autoscroll\u0004Border color': [null, 'Kolor obramowania'],
					'runner:autoscroll\u0004Border size': [null, 'Rozmiar obramowania'],
					'runner:autoscroll\u0004Bottom': [null, 'D√≥≈Ç'],
					'runner:autoscroll\u0004Button color': [null, 'Kolor przycisk√≥w'],
					'runner:autoscroll\u0004Buttons': [null, 'Przyciski'],
					'runner:autoscroll\u0004Center': [null, 'Srodek'],
					'runner:autoscroll\u0004Color': [null, 'Kolor'],
					'runner:autoscroll\u0004Contain (full image stretched over screen)': [
						null,
						'Wype≈Çnij (obraz rozciƒÖgniƒôty na ca≈Çy ekran)'
					],
					'runner:autoscroll\u0004Cover (full screen)': [null, 'Zakryj stronƒô (pe≈Çny ekran)'],
					'runner:autoscroll\u0004Create one now!': [null, 'Zacznij tworzyƒá teraz!'],
					'runner:autoscroll\u0004Custom fonts': [null, 'Niestandardowe czcionki'],
					'runner:autoscroll\u0004Customize': [null, 'Spersonalizuj'],
					'runner:autoscroll\u0004Decline color (input buttons)': [
						null,
						'Kolor zaprzeczenia (przyciski)'
					],
					'runner:autoscroll\u0004Default': [null, 'Domy≈õlny'],
					'runner:autoscroll\u0004Did you know you can customize this closing message?': [
						null,
						'Czy wiesz, ≈ºe mo≈ºesz dostosowaƒá tƒô wiadomo≈õƒá ko≈ÑcowƒÖ?'
					],
					'runner:autoscroll\u0004Disable scrolling': [null, 'Wy≈ÇƒÖczenie przewijania'],
					'runner:autoscroll\u0004Disabled in preview mode': [null, 'Nieaktywny w trybie podglƒÖdu'],
					'runner:autoscroll\u0004Discard': [null, 'Odrzuƒá'],
					'runner:autoscroll\u0004Display back button': [null, 'Wy≈õwietlaj przycisk wstecz'],
					'runner:autoscroll\u0004Display numbering': [null, 'Wy≈õwietlaj numeracjƒô'],
					'runner:autoscroll\u0004Display progressbar': [null, 'Wy≈õwietlaj pasek postƒôpu'],
					'runner:autoscroll\u0004Display separate submit button': [
						null,
						'Wy≈õwietlaj osobny przycisk prze≈õlij'
					],
					'runner:autoscroll\u0004Fill': [null, 'Wype≈Çnienie'],
					'runner:autoscroll\u0004Font': [null, 'Czcionka'],
					'runner:autoscroll\u0004Font family': [null, 'Rodzina czcionek'],
					'runner:autoscroll\u0004Font size': [null, 'Rozmiar czcionki'],
					'runner:autoscroll\u0004Font size for small screens': [
						null,
						'Rozmiar czcionki dla ma≈Çych ekran√≥w'
					],
					'runner:autoscroll\u0004Google Fonts or URL': [null, 'Czcionka Google Fonts lub URL'],
					'runner:autoscroll\u0004Hide all the Tripetto branding': [
						null,
						'Ukryj branding Tripetto'
					],
					'runner:autoscroll\u0004Hide asterisk for required questions': [
						null,
						'Ukryj gwiazdkƒô przy pytaniach wymaganych'
					],
					'runner:autoscroll\u0004Hide past blocks': [null, 'Ukrywaj poprzednie bloki'],
					'runner:autoscroll\u0004Hide upcoming blocks': [null, 'Ukrywaj kolejne bloki'],
					'runner:autoscroll\u0004Horizontal': [null, 'Poziomy'],
					'runner:autoscroll\u0004Image (URL)': [null, 'Obraz (URL)'],
					'runner:autoscroll\u0004In a live environment the form will redirect to:': [
						null,
						'W ≈õrodowisku produkcyjnym formularz bƒôdzie teraz przerkierowywa≈Ç na:'
					],
					'runner:autoscroll\u0004Inputs': [null, 'Kontrolki'],
					'runner:autoscroll\u0004Middle': [null, '≈örodek'],
					'runner:autoscroll\u0004Navigation bar': [null, 'Pasek nawigacyjny'],
					'runner:autoscroll\u0004Never': [null, 'Nigdy'],
					'runner:autoscroll\u0004Only applies when embedding the form.': [
						null,
						'Ma zastosowanie tylko je≈ºeli formularz jest osadzony.'
					],
					'runner:autoscroll\u0004Only when displayed in full page': [
						null,
						'Tylko je≈õli wy≈õwielnany na ca≈Çej stronie'
					],
					'runner:autoscroll\u0004Opacity': [null, 'Nieprzezroczysto≈õƒá'],
					'runner:autoscroll\u0004Options': [null, 'Opcje'],
					'runner:autoscroll\u0004Outline': [null, 'Kontur'],
					'runner:autoscroll\u0004Please add a block first to get the magic going.': [
						null,
						'Najpierw dodaj blok i niech magia zacznie dzia≈Çaƒá.'
					],
					'runner:autoscroll\u0004Positioning': [null, 'Rozmieszczenie'],
					'runner:autoscroll\u0004Powered by Tripetto': [null, 'Stworzony przy u≈ºyciu Tripetto'],
					'runner:autoscroll\u0004Preview mode (shows all without logic)': [
						null,
						'Tryb podglƒÖdu (pokazuje wszystko pomijajƒÖc logikƒô)'
					],
					'runner:autoscroll\u0004Progressbar color': [null, 'Kolor paska postƒôpu'],
					'runner:autoscroll\u0004Repeat': [null, 'Zacznij od poczƒÖtku'],
					'runner:autoscroll\u0004Required/error color': [
						null,
						'Kolor oznaczajƒÖcy wymagane pole i b≈Çƒôdy'
					],
					'runner:autoscroll\u0004Roundness': [null, 'ZaokrƒÖglenie'],
					'runner:autoscroll\u0004Scroll direction': [null, 'Kierunek przewijania'],
					'runner:autoscroll\u0004Selection color (input buttons)': [
						null,
						'Kolor wybranego przycisku'
					],
					'runner:autoscroll\u0004Show navigation bar': [null, 'Wy≈õwietlaj pasek nawigacyjny'],
					'runner:autoscroll\u0004Show scrollbar': [null, 'Poka≈º pasek przewijania'],
					'runner:autoscroll\u0004Standard fonts': [null, 'Standardowe czcionki'],
					'runner:autoscroll\u0004Style': [null, 'Styl'],
					'runner:autoscroll\u0004Submit button color': [null, 'Kolor przycisku prze≈õlij'],
					'runner:autoscroll\u0004Test again': [null, 'Przetestuj ponownie'],
					'runner:autoscroll\u0004Text color': [null, 'Kolor tekstu'],
					'runner:autoscroll\u0004The supplied URL is invalid!': [
						null,
						'Podany adres URL jest nieprawid≈Çowy!'
					],
					'runner:autoscroll\u0004Top': [null, 'G√≥ra'],
					'runner:autoscroll\u0004Tripetto is for making elegantly personal form and survey experiences with response boosting conversational powers.': [
						null,
						'Tripetto to stylowe i personalne podej≈õcie do formularzy i ankiet, kt√≥re dziƒôki konwersacyjnej formie zwiƒôksza ilo≈õƒá odpowiedzi.'
					],
					'runner:autoscroll\u0004Use any font available on [Google Fonts](https://fonts.google.com/) or supply a custom font URL. Please note that the Google Fonts name is case sensitive.': [
						null,
						'U≈ºyj dowolnej czcionki.'
					],
					'runner:autoscroll\u0004Vertical': [null, 'Pionowy'],
					'runner:autoscroll\u0004Vertical alignment': [null, 'Ustawienie w pionie'],
					'runner:autoscroll\u0004Visibility': [null, 'Widoczno≈õƒá'],
					'runner:autoscroll\u0004Want to make a form like this for free?': [
						null,
						'Chcia≈Çby≈õ stworzyƒá taki formularz jak ten zupe≈Çnie za darmo?'
					],
					'runner:autoscroll\u0004_Note_: This size applies to small screens (like mobile devices). Switch to the mobile device preview to see and test this small font size.': [
						null,
						'_Uwaga_: Ten rozmiar ma zastosowanie do ma≈Çych ekran√≥w (takich jak urzƒÖdzenia mobilne). Prze≈ÇƒÖcz siƒô do podglƒÖdu urzƒÖdzenia mobilnego, aby zobaczyƒá i przetestowaƒá ten ma≈Çy rozmiar czcionki.'
					],
					'runner:autoscroll\u0004üéâ Test completed': [null, 'üéâ Test uko≈Ñczony'],
					'runner:autoscroll\u0004üëã Hi there!': [null, 'üëã Cze≈õƒá!'],
					'runner#6|üìÇ File upload\u0004Allowed extensions: %1': [null, 'Dozwolone rozsze≈ºenia %1'],
					'runner#6|üìÇ File upload\u0004Choose or drag a file here': [
						null,
						'Wybierz lub przeciƒÖgnij plik tutaj'
					],
					'runner#6|üìÇ File upload\u0004Delete': [null, 'Usu≈Ñ'],
					'runner#6|üìÇ File upload\u0004Drop your file now': [null, 'Upu≈õƒá plik teraz'],
					'runner#6|üìÇ File upload\u0004Extension is not allowed.': [
						null,
						'Rozsze≈ºenie jest niedozwolone.'
					],
					'runner#6|üìÇ File upload\u0004File size is too large.': [
						null,
						'Rozmiar pliku jest za du≈ºy.'
					],
					'runner#6|üìÇ File upload\u0004Size limit: %1': [null, 'Limit rozmiaru: %1'],
					'runner#6|üìÇ File upload\u0004Something went wrong while uploading%1.': [
						null,
						'Co≈õ posz≈Ço nie tak w trakcie przesy≈Çania%1.'
					],
					"runner#6|üìÇ File upload\u0004This file can't be used.": [
						null,
						'Ten plik nie mo≈ºe zostaƒá u≈ºyty.'
					],
					'runner#6|üìÇ File upload\u0004Too many files selected.': [
						null,
						'Wybrano zbyt wiele plik√≥w.'
					],
					'runner#6|üìÇ File upload\u0004Try again': [null, 'Spr√≥buj ponownie'],
					'runner#6|üìÇ File upload\u0004Uploading (%1)': [null, 'Przesy≈Çanie (%1)'],
					'runner#1|üÜó Buttons\u0004Back': [null, 'Wstecz'],
					'runner#1|üÜó Buttons\u0004Discard': [null, 'Odrzuƒá'],
					'runner#1|üÜó Buttons\u0004Next': [null, 'Dalej'],
					'runner#1|üÜó Buttons\u0004Reload': [null, 'Prze≈Çaduj'],
					'runner#1|üÜó Buttons\u0004Retry': [null, 'Pon√≥w'],
					'runner#1|üÜó Buttons\u0004Start': [null, 'Rozpocznij'],
					'runner#1|üÜó Buttons\u0004Start again': [null, 'Rozpocznij ponownie'],
					'runner#1|üÜó Buttons\u0004Submit': [null, 'Prze≈õlij'],
					'runner#8|‚è∏ Pause conversation\u0004Cancel pausing': [null, 'Odwo≈Çaj pauzƒô'],
					'runner#8|‚è∏ Pause conversation\u0004Pause this conversation': [
						null,
						'Wstrzymaj konwersacjƒô'
					],
					'runner#8|‚è∏ Pause conversation\u0004Receive a link by email to resume later on any device, right where you left off.': [
						null,
						'Mo≈ºesz otrzymaƒá link na maila i kontynuowaƒá p√≥≈∫niej na dowolnym urzƒÖdzeniu, dok≈Çadnie od momentu, w kt√≥rym sko≈Ñczy≈Çe≈õ.'
					],
					'runner#8|‚è∏ Pause conversation\u0004Receive resume link': [
						null,
						'Otrzymaj link wznawiajƒÖcy formularz'
					],
					'runner#8|‚è∏ Pause conversation\u0004Your email address...': [null, 'Tw√≥j adres email...'],
					"runner#9|‚ö† Errors|Outdated error\u0004It seems the form is changed by the owner while you were filling in the form. Your data cannot be processed, but you can try to reload the new version of the form while maintaining the data you've filled in. Click the reload button to try this. Please check your data after reloading and then submit again.": [
						null,
						'WyglƒÖda na to, ≈ºe formularz zosta≈Ç zmodyfikowany przez w≈Ça≈õciciela w trakcie, kiedy go wype≈Çnia≈Çe≈õ. Nie mo≈ºemy przeprocesowaƒá twoich danych ale mo≈ºesz spr√≥bowaƒá prze≈Çadowaƒá go do nowej wersji zachowujƒÖc wprowadzone dane. Aby spr√≥bowaƒá to zrobiƒá kliknij przycisk prze≈Çaduj. Sprawd≈∫ proszƒô wprowadzone dane po prze≈Çadowaniu i prze≈õlij formularz ponownie.'
					],
					'runner#9|‚ö† Errors|Outdated error\u0004It seems the form is changed by the owner while you were filling in the form. Your data cannot be processed. Try reloading the form.': [
						null,
						'WyglƒÖda na to, ≈ºe formularz zosta≈Ç zmodyfikowany przez w≈Ça≈õciciela w trakcie, kiedy go wype≈Çnia≈Çe≈õ. Nie mo≈ºemy przeprocesowaƒá twoich danych. Spr√≥buj prze≈Çadowaƒá formularz.'
					],
					'runner#6|üî∑ Yes/No\u0004No': [null, 'Nie'],
					'runner#6|üî∑ Yes/No\u0004Yes': [null, 'Tak'],
					'runner#2|üí¨ Messages|Conversation closed\u0004Nothing to talk about. The conversation is closed ü§ê': [
						null,
						'Nie pogadamy. Konwersacja jest zamkniƒôta ü§ê'
					],
					'runner#2|üí¨ Messages|Conversation closed\u0004üëã Hi there!': [null, 'üëã Cze≈õƒá!'],
					'runner#9|‚ö† Errors|Connection error\u0004Please check your connection and try again (for the techies: The error console of your browser might contain more technical information about what went wrong).': [
						null,
						'Sprawd≈∫ po≈ÇƒÖczenie i spr√≥buj ponownie (dla bardziej technicznych: B≈ÇƒÖd w konsoli przeglƒÖdarki mo≈ºe zawieraƒá wiƒôcej informacji o tym co siƒô sta≈Ço).'
					],
					'runner#9|‚ö† Errors|Pausing error\u0004Something went wrong while pausing your conversation.': [
						null,
						'Co≈õ posz≈Ço nie tak w trakcie wstrzymywania twojej konwersacji.'
					],
					'runner#9|‚ö† Errors|Submit error\u0004Something went wrong while submitting your conversation.': [
						null,
						'Co≈õ posz≈Ço nie tak w trakcie przesy≈Çania twojej konwersacji.'
					],
					'runner#9|‚ö† Errors|Submit error\u0004The form is outdated.': [
						null,
						'Formularz jest nieaktualny.'
					],
					'runner#9|‚ö† Errors|Submit error\u0004Your data is rejected.': [
						null,
						'Przes≈Çane dane zosta≈Çy odrzucone.'
					],
					'runner#2|üí¨ Messages|Conversation paused\u0004The conversation is now paused.': [
						null,
						'Konwersacja jest wstrzymana.'
					],
					'runner#2|üí¨ Messages|Conversation paused\u0004‚è∏ Paused': [null, '‚è∏Wstrzymany'],
					"runner#9|‚ö† Errors|Rejected error\u0004Unfortunately, your data is marked as invalid and therefore rejected. If you believe this is a mistake, please contact the form owner. We're sorry for the inconvenience.": [
						null,
						'Niestety, Twoje dane sƒÖ oznaczone jako niewa≈ºne i dlatego zosta≈Çy odrzucone. Je≈õli uwa≈ºasz, ≈ºe jest to b≈ÇƒÖd, skontaktuj siƒô z w≈Ça≈õcicielem formularza. Przepraszamy za niedogodno≈õci.'
					],
					"runner#2|üí¨ Messages|Conversation ended\u0004üéâ It's a wrap!": [
						null,
						'üéâ To ju≈º wszystko!'
					]
				}
			},
			attachments,
			onSubmit
		});
	});
</script>

<div id="tripetto" class="h-3/4" />

<style>
	:global(iframe) {
		height: 90vh !important;
	}
</style>
