<script>
	import { onMount } from 'svelte';

	// const { snapshot, attachments, onSubmit, onPause } = Services.init({ token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiQ1EvajJFWDdxU1NZWWNTaXczQ0xsSjUrdDFPZGNaM2VyN2llRmNpMllWRT0iLCJkZWZpbml0aW9uIjoiMmpiQ1BJY3BOcGh3S21oNlFqb21yT1FKcElheEpuTW9SbFZpS2RDUGFRRT0iLCJ0eXBlIjoiY29sbGVjdCJ9.Fx5pG_t38FvWEazcyofhBAqpTY7i6pCMWmyiZFbsVJM" });

	onMount(async () => {
		const { run } = await import('tripetto-runner-autoscroll');
		const { Export } = await import('tripetto-runner-foundation');
		const { default: Services } = await import('tripetto-services');
		console.log(Services.init);
		const { snapshot, attachments, onSubmit, onPause } = Services.init({
			token:
				'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiQ1EvajJFWDdxU1NZWWNTaXczQ0xsSjUrdDFPZGNaM2VyN2llRmNpMllWRT0iLCJkZWZpbml0aW9uIjoiMmpiQ1BJY3BOcGh3S21oNlFqb21yT1FKcElheEpuTW9SbFZpS2RDUGFRRT0iLCJ0eXBlIjoiY29sbGVjdCJ9.Fx5pG_t38FvWEazcyofhBAqpTY7i6pCMWmyiZFbsVJM'
		});

		run({
			element: document.getElementById('tripetto') /* Or supply your own element here */,
			definition: {
				language: 'pl',
				clusters: [
					{
						id: 'ba2c876883df9e913c5c8a85e2209518a0e66b6740850e517b902606a0ba4861',
						nodes: [
							{
								id: 'b7117a3e08705b908194c51796384a279065bbe5601c94d6ecfd1f6c5d1166db',
								name: 'Jak masz na imiÄ™?',
								nameVisible: true,
								slots: [
									{
										id: '368171cd23c00b498cbfbe077da9d4af6671acce57c0bc06c111b67f01df5252',
										type: 'text',
										kind: 'static',
										reference: 'value',
										label: 'Text',
										alias: 'imiÄ™'
									}
								],
								block: { type: 'tripetto-block-text', version: '5.0.3' }
							},
							{
								id: '44904266a58aa45a8ea897869eecdb0499f61261a83f5ff07444e526bcb598e7',
								name: 'CzeÅ›Ä‡ @368171cd23c00b498cbfbe077da9d4af6671acce57c0bc06c111b67f01df5252',
								nameVisible: true
							}
						]
					}
				],
				builder: { name: 'tripetto', version: '4.4.2' }
			},
			styles: {
				direction: 'vertical',
				verticalAlignment: 'top',
				hidePast: false,
				hideUpcoming: false,
				showNavigation: 'auto',
				showProgressbar: true,
				showEnumerators: false,
				autoFocus: false,
				showSeparateSubmit: true,
				showPreviousButton: true,
				hideRequiredIndicator: false,
				showScrollbar: false,
				disableScrolling: false,
				noBranding: true,
				contract: { name: 'tripetto-runner-autoscroll', version: '5.5.0' }
			},
			l10n: {
				contract: { name: 'tripetto-runner-autoscroll', version: '5.5.0' },
				locale: 'auto',
				translations: {
					'': {
						language: 'pl',
						'plural-forms':
							'nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : 2);',
						'plural-family': 'Slavic (Polish)'
					},
					'runner#9|âš  Errors|Input error\u0004%1 item requires your attention! Click to fix.': [
						'%1 items require your attention! Click to fix.',
						'%1 pole wymaga twojej uwagi! Kliknij aby poprawiÄ‡.',
						'%1 pola wymagajÄ… twojej uwagi! Kliknij aby poprawiÄ‡.',
						'%1 pÃ³l wymaga twojej uwagi! Kliknij aby poprawiÄ‡.'
					],
					'runner#3|ğŸ©º Status information\u0004%1 of %2 answered': [
						null,
						'%1 na %2 udzielonych odpowiedzi'
					],
					'runner#3|ğŸ©º Status information\u0004Nothing to answer': [
						null,
						'Brak pytaÅ„ do odpowiedzi'
					],
					'runner#3|ğŸ©º Status information\u0004Pausing...': [null, 'Wstrzymywanie...'],
					'runner#3|ğŸ©º Status information\u0004Submitting...': [null, 'PrzesyÅ‚anie...'],
					'runner#3|ğŸ©º Status information\u0004â³ One moment please...': [null, 'â³ ChwileczkÄ™...'],
					'runner:autoscroll\u0004100% height, width centered': [
						null,
						'100% wysokoÅ›ci, wyÅ›rodkowany w poziomie'
					],
					'runner:autoscroll\u0004100% width, height centered': [
						null,
						'100% szerokoÅ›ci, wyÅ›rodkowany w pionie'
					],
					'runner:autoscroll\u0004Agree color (input buttons)': [
						null,
						'Kolor przyciskÃ³w potwierdzenia'
					],
					'runner:autoscroll\u0004Always': [null, 'Zawsze'],
					'runner:autoscroll\u0004Appearance': [null, 'WyglÄ…d'],
					'runner:autoscroll\u0004Automatically gain focus': [
						null,
						'Aktywuj automatycznie (ustaw focus)'
					],
					'runner:autoscroll\u0004Background': [null, 'TÅ‚o'],
					'runner:autoscroll\u0004Background color': [null, 'Kolor tÅ‚a'],
					'runner:autoscroll\u0004Border color': [null, 'Kolor obramowania'],
					'runner:autoscroll\u0004Border size': [null, 'Rozmiar obramowania'],
					'runner:autoscroll\u0004Bottom': [null, 'DÃ³Å‚'],
					'runner:autoscroll\u0004Button color': [null, 'Kolor przyciskÃ³w'],
					'runner:autoscroll\u0004Buttons': [null, 'Przyciski'],
					'runner:autoscroll\u0004Center': [null, 'Srodek'],
					'runner:autoscroll\u0004Color': [null, 'Kolor'],
					'runner:autoscroll\u0004Contain (full image stretched over screen)': [
						null,
						'WypeÅ‚nij (obraz rozciÄ…gniÄ™ty na caÅ‚y ekran)'
					],
					'runner:autoscroll\u0004Cover (full screen)': [null, 'Zakryj stronÄ™ (peÅ‚ny ekran)'],
					'runner:autoscroll\u0004Create one now!': [null, 'Zacznij tworzyÄ‡ teraz!'],
					'runner:autoscroll\u0004Custom fonts': [null, 'Niestandardowe czcionki'],
					'runner:autoscroll\u0004Customize': [null, 'Spersonalizuj'],
					'runner:autoscroll\u0004Decline color (input buttons)': [
						null,
						'Kolor zaprzeczenia (przyciski)'
					],
					'runner:autoscroll\u0004Default': [null, 'DomyÅ›lny'],
					'runner:autoscroll\u0004Did you know you can customize this closing message?': [
						null,
						'Czy wiesz, Å¼e moÅ¼esz dostosowaÄ‡ tÄ™ wiadomoÅ›Ä‡ koÅ„cowÄ…?'
					],
					'runner:autoscroll\u0004Disable scrolling': [null, 'WyÅ‚Ä…czenie przewijania'],
					'runner:autoscroll\u0004Disabled in preview mode': [null, 'Nieaktywny w trybie podglÄ…du'],
					'runner:autoscroll\u0004Discard': [null, 'OdrzuÄ‡'],
					'runner:autoscroll\u0004Display back button': [null, 'WyÅ›wietlaj przycisk wstecz'],
					'runner:autoscroll\u0004Display numbering': [null, 'WyÅ›wietlaj numeracjÄ™'],
					'runner:autoscroll\u0004Display progressbar': [null, 'WyÅ›wietlaj pasek postÄ™pu'],
					'runner:autoscroll\u0004Display separate submit button': [
						null,
						'WyÅ›wietlaj osobny przycisk przeÅ›lij'
					],
					'runner:autoscroll\u0004Fill': [null, 'WypeÅ‚nienie'],
					'runner:autoscroll\u0004Font': [null, 'Czcionka'],
					'runner:autoscroll\u0004Font family': [null, 'Rodzina czcionek'],
					'runner:autoscroll\u0004Font size': [null, 'Rozmiar czcionki'],
					'runner:autoscroll\u0004Font size for small screens': [
						null,
						'Rozmiar czcionki dla maÅ‚ych ekranÃ³w'
					],
					'runner:autoscroll\u0004Google Fonts or URL': [null, 'Czcionka Google Fonts lub URL'],
					'runner:autoscroll\u0004Hide all the Tripetto branding': [
						null,
						'Ukryj branding Tripetto'
					],
					'runner:autoscroll\u0004Hide asterisk for required questions': [
						null,
						'Ukryj gwiazdkÄ™ przy pytaniach wymaganych'
					],
					'runner:autoscroll\u0004Hide past blocks': [null, 'Ukrywaj poprzednie bloki'],
					'runner:autoscroll\u0004Hide upcoming blocks': [null, 'Ukrywaj kolejne bloki'],
					'runner:autoscroll\u0004Horizontal': [null, 'Poziomy'],
					'runner:autoscroll\u0004Image (URL)': [null, 'Obraz (URL)'],
					'runner:autoscroll\u0004In a live environment the form will redirect to:': [
						null,
						'W Å›rodowisku produkcyjnym formularz bÄ™dzie teraz przerkierowywaÅ‚ na:'
					],
					'runner:autoscroll\u0004Inputs': [null, 'Kontrolki'],
					'runner:autoscroll\u0004Middle': [null, 'Åšrodek'],
					'runner:autoscroll\u0004Navigation bar': [null, 'Pasek nawigacyjny'],
					'runner:autoscroll\u0004Never': [null, 'Nigdy'],
					'runner:autoscroll\u0004Only applies when embedding the form.': [
						null,
						'Ma zastosowanie tylko jeÅ¼eli formularz jest osadzony.'
					],
					'runner:autoscroll\u0004Only when displayed in full page': [
						null,
						'Tylko jeÅ›li wyÅ›wielnany na caÅ‚ej stronie'
					],
					'runner:autoscroll\u0004Opacity': [null, 'NieprzezroczystoÅ›Ä‡'],
					'runner:autoscroll\u0004Options': [null, 'Opcje'],
					'runner:autoscroll\u0004Outline': [null, 'Kontur'],
					'runner:autoscroll\u0004Please add a block first to get the magic going.': [
						null,
						'Najpierw dodaj blok i niech magia zacznie dziaÅ‚aÄ‡.'
					],
					'runner:autoscroll\u0004Positioning': [null, 'Rozmieszczenie'],
					'runner:autoscroll\u0004Powered by Tripetto': [null, 'Stworzony przy uÅ¼yciu Tripetto'],
					'runner:autoscroll\u0004Preview mode (shows all without logic)': [
						null,
						'Tryb podglÄ…du (pokazuje wszystko pomijajÄ…c logikÄ™)'
					],
					'runner:autoscroll\u0004Progressbar color': [null, 'Kolor paska postÄ™pu'],
					'runner:autoscroll\u0004Repeat': [null, 'Zacznij od poczÄ…tku'],
					'runner:autoscroll\u0004Required/error color': [
						null,
						'Kolor oznaczajÄ…cy wymagane pole i bÅ‚Ä™dy'
					],
					'runner:autoscroll\u0004Roundness': [null, 'ZaokrÄ…glenie'],
					'runner:autoscroll\u0004Scroll direction': [null, 'Kierunek przewijania'],
					'runner:autoscroll\u0004Selection color (input buttons)': [
						null,
						'Kolor wybranego przycisku'
					],
					'runner:autoscroll\u0004Show navigation bar': [null, 'WyÅ›wietlaj pasek nawigacyjny'],
					'runner:autoscroll\u0004Show scrollbar': [null, 'PokaÅ¼ pasek przewijania'],
					'runner:autoscroll\u0004Standard fonts': [null, 'Standardowe czcionki'],
					'runner:autoscroll\u0004Style': [null, 'Styl'],
					'runner:autoscroll\u0004Submit button color': [null, 'Kolor przycisku przeÅ›lij'],
					'runner:autoscroll\u0004Test again': [null, 'Przetestuj ponownie'],
					'runner:autoscroll\u0004Text color': [null, 'Kolor tekstu'],
					'runner:autoscroll\u0004The supplied URL is invalid!': [
						null,
						'Podany adres URL jest nieprawidÅ‚owy!'
					],
					'runner:autoscroll\u0004Top': [null, 'GÃ³ra'],
					'runner:autoscroll\u0004Tripetto is for making elegantly personal form and survey experiences with response boosting conversational powers.': [
						null,
						'Tripetto to stylowe i personalne podejÅ›cie do formularzy i ankiet, ktÃ³re dziÄ™ki konwersacyjnej formie zwiÄ™ksza iloÅ›Ä‡ odpowiedzi.'
					],
					'runner:autoscroll\u0004Use any font available on [Google Fonts](https://fonts.google.com/) or supply a custom font URL. Please note that the Google Fonts name is case sensitive.': [
						null,
						'UÅ¼yj dowolnej czcionki.'
					],
					'runner:autoscroll\u0004Vertical': [null, 'Pionowy'],
					'runner:autoscroll\u0004Vertical alignment': [null, 'Ustawienie w pionie'],
					'runner:autoscroll\u0004Visibility': [null, 'WidocznoÅ›Ä‡'],
					'runner:autoscroll\u0004Want to make a form like this for free?': [
						null,
						'ChciaÅ‚byÅ› stworzyÄ‡ taki formularz jak ten zupeÅ‚nie za darmo?'
					],
					'runner:autoscroll\u0004_Note_: This size applies to small screens (like mobile devices). Switch to the mobile device preview to see and test this small font size.': [
						null,
						'_Uwaga_: Ten rozmiar ma zastosowanie do maÅ‚ych ekranÃ³w (takich jak urzÄ…dzenia mobilne). PrzeÅ‚Ä…cz siÄ™ do podglÄ…du urzÄ…dzenia mobilnego, aby zobaczyÄ‡ i przetestowaÄ‡ ten maÅ‚y rozmiar czcionki.'
					],
					'runner:autoscroll\u0004ğŸ‰ Test completed': [null, 'ğŸ‰ Test ukoÅ„czony'],
					'runner:autoscroll\u0004ğŸ‘‹ Hi there!': [null, 'ğŸ‘‹ CzeÅ›Ä‡!'],
					'runner#6|ğŸ“‚ File upload\u0004Allowed extensions: %1': [null, 'Dozwolone rozszeÅ¼enia %1'],
					'runner#6|ğŸ“‚ File upload\u0004Choose or drag a file here': [
						null,
						'Wybierz lub przeciÄ…gnij plik tutaj'
					],
					'runner#6|ğŸ“‚ File upload\u0004Delete': [null, 'UsuÅ„'],
					'runner#6|ğŸ“‚ File upload\u0004Drop your file now': [null, 'UpuÅ›Ä‡ plik teraz'],
					'runner#6|ğŸ“‚ File upload\u0004Extension is not allowed.': [
						null,
						'RozszeÅ¼enie jest niedozwolone.'
					],
					'runner#6|ğŸ“‚ File upload\u0004File size is too large.': [
						null,
						'Rozmiar pliku jest za duÅ¼y.'
					],
					'runner#6|ğŸ“‚ File upload\u0004Size limit: %1': [null, 'Limit rozmiaru: %1'],
					'runner#6|ğŸ“‚ File upload\u0004Something went wrong while uploading%1.': [
						null,
						'CoÅ› poszÅ‚o nie tak w trakcie przesyÅ‚ania%1.'
					],
					"runner#6|ğŸ“‚ File upload\u0004This file can't be used.": [
						null,
						'Ten plik nie moÅ¼e zostaÄ‡ uÅ¼yty.'
					],
					'runner#6|ğŸ“‚ File upload\u0004Too many files selected.': [
						null,
						'Wybrano zbyt wiele plikÃ³w.'
					],
					'runner#6|ğŸ“‚ File upload\u0004Try again': [null, 'SprÃ³buj ponownie'],
					'runner#6|ğŸ“‚ File upload\u0004Uploading (%1)': [null, 'PrzesyÅ‚anie (%1)'],
					'runner#1|ğŸ†— Buttons\u0004Back': [null, 'Wstecz'],
					'runner#1|ğŸ†— Buttons\u0004Discard': [null, 'OdrzuÄ‡'],
					'runner#1|ğŸ†— Buttons\u0004Next': [null, 'Dalej'],
					'runner#1|ğŸ†— Buttons\u0004Reload': [null, 'PrzeÅ‚aduj'],
					'runner#1|ğŸ†— Buttons\u0004Retry': [null, 'PonÃ³w'],
					'runner#1|ğŸ†— Buttons\u0004Start': [null, 'Rozpocznij'],
					'runner#1|ğŸ†— Buttons\u0004Start again': [null, 'Rozpocznij ponownie'],
					'runner#1|ğŸ†— Buttons\u0004Submit': [null, 'PrzeÅ›lij'],
					'runner#8|â¸ Pause conversation\u0004Cancel pausing': [null, 'OdwoÅ‚aj pauzÄ™'],
					'runner#8|â¸ Pause conversation\u0004Pause this conversation': [
						null,
						'Wstrzymaj konwersacjÄ™'
					],
					'runner#8|â¸ Pause conversation\u0004Receive a link by email to resume later on any device, right where you left off.': [
						null,
						'MoÅ¼esz otrzymaÄ‡ link na maila i kontynuowaÄ‡ pÃ³Åºniej na dowolnym urzÄ…dzeniu, dokÅ‚adnie od momentu, w ktÃ³rym skoÅ„czyÅ‚eÅ›.'
					],
					'runner#8|â¸ Pause conversation\u0004Receive resume link': [
						null,
						'Otrzymaj link wznawiajÄ…cy formularz'
					],
					'runner#8|â¸ Pause conversation\u0004Your email address...': [null, 'TwÃ³j adres email...'],
					"runner#9|âš  Errors|Outdated error\u0004It seems the form is changed by the owner while you were filling in the form. Your data cannot be processed, but you can try to reload the new version of the form while maintaining the data you've filled in. Click the reload button to try this. Please check your data after reloading and then submit again.": [
						null,
						'WyglÄ…da na to, Å¼e formularz zostaÅ‚ zmodyfikowany przez wÅ‚aÅ›ciciela w trakcie, kiedy go wypeÅ‚niaÅ‚eÅ›. Nie moÅ¼emy przeprocesowaÄ‡ twoich danych ale moÅ¼esz sprÃ³bowaÄ‡ przeÅ‚adowaÄ‡ go do nowej wersji zachowujÄ…c wprowadzone dane. Aby sprÃ³bowaÄ‡ to zrobiÄ‡ kliknij przycisk przeÅ‚aduj. SprawdÅº proszÄ™ wprowadzone dane po przeÅ‚adowaniu i przeÅ›lij formularz ponownie.'
					],
					'runner#9|âš  Errors|Outdated error\u0004It seems the form is changed by the owner while you were filling in the form. Your data cannot be processed. Try reloading the form.': [
						null,
						'WyglÄ…da na to, Å¼e formularz zostaÅ‚ zmodyfikowany przez wÅ‚aÅ›ciciela w trakcie, kiedy go wypeÅ‚niaÅ‚eÅ›. Nie moÅ¼emy przeprocesowaÄ‡ twoich danych. SprÃ³buj przeÅ‚adowaÄ‡ formularz.'
					],
					'runner#6|ğŸ”· Yes/No\u0004No': [null, 'Nie'],
					'runner#6|ğŸ”· Yes/No\u0004Yes': [null, 'Tak'],
					'runner#2|ğŸ’¬ Messages|Conversation closed\u0004Nothing to talk about. The conversation is closed ğŸ¤': [
						null,
						'Nie pogadamy. Konwersacja jest zamkniÄ™ta ğŸ¤'
					],
					'runner#2|ğŸ’¬ Messages|Conversation closed\u0004ğŸ‘‹ Hi there!': [null, 'ğŸ‘‹ CzeÅ›Ä‡!'],
					'runner#9|âš  Errors|Connection error\u0004Please check your connection and try again (for the techies: The error console of your browser might contain more technical information about what went wrong).': [
						null,
						'SprawdÅº poÅ‚Ä…czenie i sprÃ³buj ponownie (dla bardziej technicznych: BÅ‚Ä…d w konsoli przeglÄ…darki moÅ¼e zawieraÄ‡ wiÄ™cej informacji o tym co siÄ™ staÅ‚o).'
					],
					'runner#9|âš  Errors|Pausing error\u0004Something went wrong while pausing your conversation.': [
						null,
						'CoÅ› poszÅ‚o nie tak w trakcie wstrzymywania twojej konwersacji.'
					],
					'runner#9|âš  Errors|Submit error\u0004Something went wrong while submitting your conversation.': [
						null,
						'CoÅ› poszÅ‚o nie tak w trakcie przesyÅ‚ania twojej konwersacji.'
					],
					'runner#9|âš  Errors|Submit error\u0004The form is outdated.': [
						null,
						'Formularz jest nieaktualny.'
					],
					'runner#9|âš  Errors|Submit error\u0004Your data is rejected.': [
						null,
						'PrzesÅ‚ane dane zostaÅ‚y odrzucone.'
					],
					'runner#2|ğŸ’¬ Messages|Conversation paused\u0004The conversation is now paused.': [
						null,
						'Konwersacja jest wstrzymana.'
					],
					'runner#2|ğŸ’¬ Messages|Conversation paused\u0004â¸ Paused': [null, 'â¸Wstrzymany'],
					"runner#9|âš  Errors|Rejected error\u0004Unfortunately, your data is marked as invalid and therefore rejected. If you believe this is a mistake, please contact the form owner. We're sorry for the inconvenience.": [
						null,
						'Niestety, Twoje dane sÄ… oznaczone jako niewaÅ¼ne i dlatego zostaÅ‚y odrzucone. JeÅ›li uwaÅ¼asz, Å¼e jest to bÅ‚Ä…d, skontaktuj siÄ™ z wÅ‚aÅ›cicielem formularza. Przepraszamy za niedogodnoÅ›ci.'
					],
					"runner#2|ğŸ’¬ Messages|Conversation ended\u0004ğŸ‰ It's a wrap!": [
						null,
						'ğŸ‰ To juÅ¼ wszystko!'
					]
				}
			},
			attachments,
			onSubmit
		});
	});
</script>

<div id="tripetto" class="h-3/4" />

<style>
	:global(iframe) {
		height: 90vh !important;
	}
</style>
